<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pet Shop â€” Demo</title>
  <style>
    :root{ --accent:#ff6b6b; --muted:#666; --bg:#f7f7f9; --card:#fff; }
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,Arial,sans-serif;margin:0;background:var(--bg);color:#222}
    header{background:linear-gradient(90deg,#fff 0%, #f3f3f8 100%);padding:16px 20px;display:flex;align-items:center;justify-content:space-between;gap:15px;position:sticky;top:0;z-index:10;border-bottom:1px solid #e6e6ef}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:44px;height:44px;border-radius:8px;background:linear-gradient(45deg,var(--accent),#ffb86b);display:flex;align-items:center;justify-content:center;color:blue;font-weight:700}
    .search{flex:1;max-width:720px;display:flex;gap:8px}
    .search input{flex:1;padding:10px;border-radius:10px;border:1px solid #ddd;background:blue}
    .controls{display:flex;gap:8px;align-items:center}
    button{cursor:pointer}

    main{padding:20px;max-width:1200px;margin:0 auto}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}
    .card{background:var(--card);padding:12px;border-radius:12px;box-shadow:0 6px 18px rgba(30,30,50,0.04);display:flex;flex-direction:column}
    .media{height:180px;border-radius:10px;background:#f2f2f6;display:flex;align-items:center;justify-content:center;overflow:hidden}
    .media img{max-width:280px;max-height:700px;object-fit:contain}
    .name{font-weight:600;margin-top:10px}
    .price{margin-top:6px;color:var(--accent);font-weight:700}
    .meta{font-size:13px;color:var(--muted);margin-top:4px}
    .card .actions{margin-top:auto;display:flex;gap:8px}
    .btn{padding:8px 12px;border-radius:10px;border:0;background:var(--accent);color:blue;font-weight:600}
    .btn.ghost{background:transparent;border:1px solid #e6e6ef;color:#222}

    .topbar{display:flex;gap:12px;align-items:center;margin-bottom:20px}
    .filters{display:flex;gap:8px;flex-wrap:wrap}
    select,input[type=range]{padding:8px;border-radius:8px;border:1px solid #ddd}

    /* cart */
    .cart-btn{position:relative}
    .badge{position:absolute;right:-8px;top:-8px;background:#111;color:blue;padding:6px 8px;border-radius:auto-fit;font-size:12px}
    .cart-panel{position:absolute;right:18px;top:72px;width:360px;max-width:calc(100% - 40px);background:var(--card);border-radius:12px;box-shadow:0 14px 40px rgba(20,20,40,0.12);padding:14px;z-index:50}
    .cart-item{display:flex;gap:10px;align-items:center;padding:8px 0;border-bottom:1px dashed #eee}
    .cart-item img{width:56px;height:56px;object-fit:cover;border-radius:8px}
    .qty{display:flex;gap:6px;align-items:center}
    .checkout{display:flex;justify-content:space-between;align-items:center;margin-top:12px}

    footer{padding:24px;text-align:center;color:var(--muted)}

    /* responsive */
    @media (max-width:640px){
      .search{display:none}
      header{padding:12px}
      .media{height:140px}
    }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">PT</div>
      <div>
        <div style="font-weight:700">Pet Shop</div>
        <div style="font-size:12px;color:var(--muted)">Pet shop â€” demo</div>
      </div>
    </div>

    <div class="search">
      <input id="searchInput" placeholder="Search Pet,shop" />
      <select id="categoryFilter">
        <option value="all">All categories</option>
      </select>
    </div>

    <div class="controls">
      <div>
        <select id="sortSelect" title="Sort">
          <option value="default">Sort: Recommended</option>
          <option value="price-asc">Price: Low â†’ High</option>
          <option value="price-desc">Price: High â†’ Low</option>
          <option value="name-asc">Name A â†’ Z</option>
        </select>
      </div>
      <div class="cart-btn">
        <button id="openCart">ðŸ›’ Cart</button>
        <div id="cartBadge" class="badge" style="display:none">0</div>
      </div>
    </div>
  </header>

  <main>
    <div class="topbar">
      <div class="filters">
        <label style="font-size:14px;color:var(--muted)">Price up to</label>
        <input id="priceRange" type="range" min="0" max="200" value="200" />
        <span id="priceRangeVal" style="min-width:56px;text-align:center">PHP 200</span>
      </div>
    </div>

    <section id="productList" class="grid"></section>
  </main>

  <!-- Cart panel (hidden by default) -->
  <div id="cartPanel" class="cart-panel" style="display:none">
    <h3>Cart</h3>
    <div id="cartItems"></div>
    <div class="checkout">
      <div>
        <div style="font-weight:700">Total: <span id="cartTotal">PHP 0</span></div>
        <div style="font-size:12px;color:var(--muted)">Shipping calculated at checkout</div>
      </div>
      <div>
        <button id="checkoutBtn" class="btn">Checkout</button>
      </div>
    </div>
    <div style="text-align:right;margin-top:8px"><button id="closeCart" class="btn ghost">Close</button></div>
  </div>

  <!-- Simple checkout modal (mock) -->
  <div id="checkoutModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.45);align-items:center;justify-content:center;z-index:60">
    <div style="background:white;padding:18px;border-radius:12px;max-width:520px;width:92%">
      <h3>Checkout</h3>
      <form id="checkoutForm">
        <div style="display:flex;gap:8px;flex-direction:column">
          <input name="name" placeholder="Full name" required />
          <input name="email" type="email" placeholder="Email" required />
          <input name="address" placeholder="Address" required />
        </div>
        <div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end">
          <button type="button" id="cancelCheckout" class="btn ghost">Cancel</button>
          <button type="submit" class="btn">Place order</button>
        </div>
      </form>
    </div>
  </div>

  <footer>
    Built as a demo â€¢ Local cart (no real payments) â€¢ Images are placeholders
  </footer>

  <script>
  // --- Demo product data ---
  const PRODUCTS = [
    {id:1,name:'Pet Shop',price:20000,category:'Maltese',img:'../Images/Test0.jpg',desc:'Loyal Dog.'},
    {id:2,name:'Pet Shop',price:10000,category:'Bird',img:'../Images/Test1.jpg',desc:'Indian Ringneck, .'},
    {id:3,name:'Pet Shop',price:7500,category:'Uchiha Bird',img:'../Images/Test2.jpg',desc:'Uchiha Clan.'},
    {id:4,name:'Pet Shop',price:5500,category:'Dog',img:'../Images/Test3.jpg',desc:'kangal.'},
    {id:5,name:'Pet Shop',price:11500,category:'Bird',img:'../Images/Test4.jpg',desc:'Maya.'},
    {id:6,name:'Pet Shop',price:5000,category:'Dog',img:'../Images/Test6.jpg',desc:'Zhih Tzu.'},
    {id:7,name:'Pet Shop',price:7000,category:'Dog',img:'../Images/Test7.jpg',desc:'Paw Ninja.'},
    {id:8,name:'Pet Shop',price:10,category:'Dog',img:'../Images/Test8.jpg',desc:'Duying.'},
    {id:9,name:'Pet Shop',price:8000,category:'Dog',img:'../Images/Test9.jpg',desc:'Slayer Ninja Paw.'},
    {id:10,name:'Pet Shop',price:20000,category:'Maltese',img:'../Images/Test10.jpg',desc:'Loyal Dog.'}
  ];

  // --- App state ---
  let state = {
    products: PRODUCTS.slice(),
    cart: JSON.parse(localStorage.getItem('cart_v1') || '[]'),
    filters: {q:'',category:'all',maxPrice:2000,sort:'default'}
  };

  // --- Helpers ---
  const qs = sel => document.querySelector(sel);
  const format = v => `PHP ` + Number(v).toLocaleString();

  // --- Init DOM references ---
  const productList = qs('#productList');
  const searchInput = qs('#searchInput');
  const categoryFilter = qs('#categoryFilter');
  const priceRange = qs('#priceRange');
  const priceRangeVal = qs('#priceRangeVal');
  const sortSelect = qs('#sortSelect');
  const openCartBtn = qs('#openCart');
  const cartBadge = qs('#cartBadge');
  const cartPanel = qs('#cartPanel');
  const cartItemsEl = qs('#cartItems');
  const cartTotalEl = qs('#cartTotal');
  const closeCartBtn = qs('#closeCart');
  const checkoutBtn = qs('#checkoutBtn');
  const checkoutModal = qs('#checkoutModal');
  const checkoutForm = qs('#checkoutForm');
  const cancelCheckout = qs('#cancelCheckout');

  // --- Populate categories ---
  (function populateCategories(){
    const cats = ['all', ...new Set(PRODUCTS.map(p=>p.category))];
    categoryFilter.innerHTML = cats.map(c=>`<option value="${c}">${c}</option>`).join('');
  })();

  // --- Render products based on state.filters ---
  function renderProducts(){
    const q = state.filters.q.trim().toLowerCase();
    const maxP = Number(state.filters.maxPrice);
    let list = state.products.filter(p => (state.filters.category === 'all' || p.category === state.filters.category) && p.price <= maxP && (p.name.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q)) );

    if(state.filters.sort === 'price-asc') list.sort((a,b)=>a.price-b.price);
    if(state.filters.sort === 'price-desc') list.sort((a,b)=>b.price-a.price);
    if(state.filters.sort === 'name-asc') list.sort((a,b)=>a.name.localeCompare(b.name));

    productList.innerHTML = list.map(p=>`
      <article class="card">
        <div class="media"><img src="${p.img}" alt="${p.name}" loading="lazy"></div>
        <div class="name">${p.name}</div>
        <div class="meta">${p.category} â€¢ ${p.desc}</div>
        <div class="price">${format(p.price)}</div>
        <div class="actions">
          <button class="btn" data-add="${p.id}0">Add to cart</button>
          <button class="btn ghost" data-view="${p.id}">View</button>
        </div>
      </article>
    `).join('');

    // attach events
    productList.querySelectorAll('[data-add]').forEach(btn=>btn.addEventListener('click',()=>addToCart(Number(btn.dataset.add))));
    productList.querySelectorAll('[data-view]').forEach(btn=>btn.addEventListener('click',()=>viewProduct(Number(btn.dataset.view))));
  }

  // --- Cart functions ---
  function saveCart(){ localStorage.setItem('cart_v1', JSON.stringify(state.cart)); }
  function addToCart(productId, qty=1){
    const p = PRODUCTS.find(x=>x.id===productId);
    if(!p) return;
    const existing = state.cart.find(i=>i.id===productId);
    if(existing) existing.qty += qty; else state.cart.push({id:productId,qty});
    saveCart(); renderCart(); showBadge();
    // subtle feedback
    openCart();
  }

  function removeFromCart(productId){ state.cart = state.cart.filter(i=>i.id!==productId); saveCart(); renderCart(); showBadge(); }

  function changeQty(productId, delta){ const item = state.cart.find(i=>i.id===productId); if(!item) return; item.qty = Math.max(1,item.qty+delta); saveCart(); renderCart(); showBadge(); }

  function renderCart(){
    if(state.cart.length===0){ cartItemsEl.innerHTML = '<div style="color:var(--muted)">Your cart is empty.</div>'; cartTotalEl.textContent = format(0); return; }
    let content = '';
    let total = 0;
    for(const item of state.cart){
      const p = PRODUCTS.find(x=>x.id===item.id);
      const line = p.price * item.qty; total += line;
      content += `
        <div class="cart-item">
          <img src="${p.img}" alt="${p.name}">
          <div style="flex:1">
            <div style="font-weight:600">${p.name}</div>
            <div style="font-size:13px;color:var(--muted)">${format(p.price)} â€¢ ${p.category}</div>
          </div>
          <div style="text-align:right">
            <div class="qty">
              <button onclick="(window.__app.changeQty(${p.id},-1))">-</button>
              <div style="min-width:28px">${item.qty}</div>
              <button onclick="(window.__app.changeQty(${p.id},1))">+</button>
            </div>
            <div style="margin-top:6px;font-weight:700">${format(line)}</div>
            <div style="margin-top:6px"><button onclick="(window.__app.removeFromCart(${p.id}))" class="btn ghost">Remove</button></div>
          </div>
        </div>
      `;
    }
    cartItemsEl.innerHTML = content;
    cartTotalEl.textContent = format(total);
  }

  function showBadge(){ const count = state.cart.reduce((s,i)=>s+i.qty,0); if(count>0){cartBadge.style.display='block';cartBadge.textContent=count;} else cartBadge.style.display='none'; }

  function openCart(){ cartPanel.style.display='block'; }
  function closeCart(){ cartPanel.style.display='none'; }

  // --- View product (simple alert demo) ---
  function viewProduct(id){ const p = PRODUCTS.find(x=>x.id===id); if(!p) return; alert(p.name + '\n\n' + p.desc + '\n' + format(p.price)); }

  // --- Wire up UI ---
  searchInput.addEventListener('input', e => { state.filters.q = e.target.value; renderProducts(); });
  categoryFilter.addEventListener('change', e => { state.filters.category = e.target.value; renderProducts(); });
  priceRange.addEventListener('input', e => { state.filters.maxPrice = e.target.value; priceRangeVal.textContent = 'PHP ' + Number(e.target.value).toLocaleString(); renderProducts(); });
  sortSelect.addEventListener('change', e => { state.filters.sort = e.target.value; renderProducts(); });

  openCartBtn.addEventListener('click', () => { openCart(); });
  closeCartBtn.addEventListener('click', () => { closeCart(); });
  checkoutBtn.addEventListener('click', () => { if(state.cart.length===0){ alert('Your cart is empty.'); return; } checkoutModal.style.display='flex'; });
  cancelCheckout.addEventListener('click', ()=>{ checkoutModal.style.display='none'; });

  // expose some functions for inline handlers inside cart HTML
  window.__app = { changeQty: (id,delta)=>{ changeQty(id,delta); }, removeFromCart: (id)=>{ if(confirm('Remove this item?')) removeFromCart(id); } };

  checkoutForm.addEventListener('submit', (e)=>{
    e.preventDefault();
    const form = new FormData(checkoutForm);
    const order = {
      id: 'ORD' + Date.now(),
      name: form.get('name'),
      email: form.get('email'),
      address: form.get('address'),
      items: state.cart.slice(),
      total: state.cart.reduce((s,i)=>s + (PRODUCTS.find(p=>p.id===i.id).price * i.qty),0)
    };
    // in a real app you'd send this to a server. Here we just simulate success.
    console.log('Order placed', order);
    alert('Thank you! Your order ' + order.id + ' placed. (demo)');
    state.cart = []; saveCart(); renderCart(); showBadge(); checkoutModal.style.display='none'; closeCart();
    checkoutForm.reset();
  });

  // --- Initial render ---
  (function init(){
    // cap price range to max product price
    const maxPrice = Math.max(...PRODUCTS.map(p=>p.price));
    priceRange.max = Math.ceil(maxPrice / 100) * 100;
    priceRange.value = priceRange.max;
    priceRangeVal.textContent = 'PHP ' + Number(priceRange.value).toLocaleString();
    state.filters.maxPrice = priceRange.value;
    renderProducts(); renderCart(); showBadge();
  })();

  </script>
</body>
</html>